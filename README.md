### Предсказание исходов футбольных матчей 
В этом проекте я буду исследую характеристики футбольных матчей Английской Премьер Лиги с сезона 2018-2019 до сезона 2023-2024: характерные тенденции и факторы, влияющие на исходы матчей. В этом проекте удалось написать алгоритм, который угадывает 55% исходов футбольных матчей (Победа домашней команды, ничья или победа гостевой команды) и имеет показатель ROI (return on investment) в 56% на ставках в букмекерских конторах.
___
Проект состоит из нескольких частей:

### Часть 1: Сбор данных

#### 1.1: [Данные о матчах](https://github.com/Zianielir/Football-EPL-2018-2024-Data-Analysis/blob/main/%5B1%5D%20Data_acquisition.ipynb)
Сначала я получил стартовые данные о матчах АПЛ с сайта [football-data.co.uk](https://football-data.co.uk/). Их пришлось обработать, вытащить только нужные столбцы из таблицы
и заполнить некоторые существенные пропуски. Также на основе имеющихся названий команд я создал новый признак - локацию матча. Она пригодится позже для анализа погоды.

#### 1.2: [Парсинг данных Elo rating](https://github.com/Zianielir/Football-EPL-2018-2024-Data-Analysis/blob/main/%5B2%5D%20Parser%20elo%20rating.ipynb)
Оказалось, что зачастую открытые данные, которые мы имеем о матчах до их начала, не дают нормального представления об исходе матча. В отличие от человека компьютер не сможет просто так
сказать, кто более вероятно победит. Для этого я спарсил данные об Elo рейтингах команд в дни их игр. Это система, которая позволяет выразить силу команды численно.
Эта сила измеряется по результатам прошлых игр. Более подробно можно почитать в [википедии](https://ru.wikipedia.org/wiki/%D0%A0%D0%B5%D0%B9%D1%82%D0%B8%D0%BD%D0%B3_%D0%AD%D0%BB%D0%BE).

Данные о Elo рейтинге команд в момент рассматриваемых мной матчей я получил с помощью API сайта [clubelo.com](http://clubelo.com). Их пришлось синхронизировать с датами каждого сыгранного
матча. 

#### 1.3: [Парсинг данных о погоде](https://github.com/Zianielir/Football-EPL-2018-2024-Data-Analysis/blob/main/%5B3%5D%20Parser%20weather.ipynb)
Я хотел найти как можно больше других факторов, о которых можно узнать до матча и которые могут влиять на его исход. Так я решил исследовать влияние погоды во время матча.
Данные о температуре, влажности, скорости ветра и общем описании погоды я парсил c сайта [wunderground.com](https://www.wunderground.com) (в России открывается с VPN). 

#### 1.4: [Объединение и обработка собранных данных](https://github.com/Zianielir/Football-EPL-2018-2024-Data-Analysis/blob/main/%5B4%5D%20Data_merge.ipynb)
В этом файле данные обрабатываются и соединяются в единую [таблицу](вставить ссылку).

### Часть 2: [EDA](https://github.com/Zianielir/Football-EPL-2018-2024-Data-Analysis/blob/main/%5B5%5D%20EDA.ipynb)
В этом файле есть много визуализаций данных, на основе которых было построено много гипотез в следующей части

### Часть 3: [Гипотезы](https://github.com/Zianielir/Football-EPL-2018-2024-Data-Analysis/blob/main/%5B6%5DHypotheses.ipynb)
- Было выявлено много интересных взаимосвязей, которые формулируются и проверяются в этом файле
Оказалось, что домашние команды действительно статзначимо чаще выигрывают, а количество нарушений почти не связано с победой команды
Эти и другие гипотезы смотрите в тетрадке!

### Часть 5: ML
В этой тетрадке предлагаются 6 моделей, которые могут предсказывать исход матча по имеющимся данным
3 из них не основаны на машинном обучении
Остальные используют модели KNN, Logistic Regression и Random Forest

Удалось добиться точности предсказания исхода в 55% и ROI в 56% от вложенных средств на ставках в букмекерских конторах.







